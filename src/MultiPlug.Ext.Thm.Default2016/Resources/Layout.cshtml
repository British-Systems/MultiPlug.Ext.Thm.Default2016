<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>@Model.LayoutModel.Title</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <base href="@Model.LayoutModel.BaseUrl">

    <link href="assets/default2016/styles/fonts.css" rel="stylesheet" type="text/css">

    <link href="assets/mplib/styles/bootstrap.min.css" media="all" rel="stylesheet" type="text/css" id="bootstrap-css">
    <link href="assets/default2016/styles/font.awesome.min.css" media="all" rel="stylesheet" type="text/css">
    <link href="assets/default2016/styles/adminflare.min.css" media="all" rel="stylesheet" type="text/css" id="adminflare-css">

    <style type="text/css">
		/* ======================================================================= */
		/* Server Statistics */
		.well.widget-pie-charts .box {
			margin-bottom: -20px;
		}

		/* ======================================================================= */
		/* Supported Browsers */
		#supported-browsers header { color: #666; display: block; font-size: 14px; }

		#supported-browsers header strong { font-size: 18px; }

		#supported-browsers .span10 { margin-bottom: -15px; text-align: center; }

		#supported-browsers .span10 div {
			margin-bottom: 15px;
			margin-right: 15px;
			display: inline-block;
			width: 120px;
		}

		#supported-browsers .span10 div:last-child { margin-right: 0; }

		#supported-browsers .span10 img { height: 40px; width: 40px; }

		#supported-browsers .span10 span { line-height: 40px; font-size: 14px; font-weight: 600; }

		@@media (max-width: 767px) {
			#supported-browsers header { text-align: center; margin-bottom: 20px; }
		}

		/* ======================================================================= */
		/* Status panel */
		.status-example { line-height: 0; position:relative; top: 22px }
    </style>

    <link href="assets/default2016/styles/selectize.default.css" rel="stylesheet" />
	

    <script src="assets/default2016/scripts/modernizr-2.6.2.js" type="text/javascript"></script>
    <script src="assets/mplib/scripts/jquery-1.10.2.js" type="text/javascript"></script>
    <script src="assets/default2016/scripts/selectize.min.js"></script>

    @Raw(Model.LayoutModel.ExtraHeadMarkup)

</head>
<body>
    <!-- Main navigation bar
        ================================================== -->
    <header class="navbar navbar-fixed-top" id="main-navbar">
        <div class="navbar-inner">
            <div class="container">
                <a class="logo" href=""><img height="30" width="120" alt="MultiPlug Home" src="assets/default2016/images/MultiPlug.png"></a>
                <a class="btn nav-button collapsed" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-reorder"></span>
                </a>
                <div class="nav-collapse collapse">
                    <ul class="nav">
                        @{ int BreadcrumbCount = Model.LayoutModel.Breadcrumb.Count; }
                        @foreach (var x in @Model.LayoutModel.Breadcrumb)
                        {
                            BreadcrumbCount--;
                            if (BreadcrumbCount > 0)
                            {
                                <li class=""><a href = "@x.Value" > @x.Key</a></li>
                            }
                            else
                            {
                                <li class="active"><a href = "@x.Value" > @x.Key</a></li>
                            }
                        }
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Help &amp Info <i class=" icon-caret-down"></i></a>
                            <ul class="dropdown-menu">
                                <li><a href="#">Action</a></li>
                                <li><a href="#">Another action</a></li>
                                <li><a href="#">Something else here</a></li>
                                <li class="divider"></li>
                                <li class="nav-header">Nav header</li>
                                <li><a href="#">Separated link</a></li>
                                <li><a href="#">One more separated link</a></li>
                            </ul>
                        </li>
                        <li class="divider-vertical"></li>
                        <li class=""><a href="/multiplug/deploy/">Deploy</a></li>
                        <li class="divider-vertical"></li>

                    </ul>
                    <form class="navbar-search pull-left" action="" _lpchecked="1">
                        <input type="text" class="search-query" placeholder="Search" style="width: 120px">
                    </form>
                    <ul class="nav pull-right">
                        <li>
                            <ul class="messages">
                                <li>
                                    <a href="settings/system/"><i class="icon-desktop"></i> @Model.LayoutModel.MachineName<span class=" responsive-text">Machine Name</span></a>
                                </li>
                                <li>
                                    <a href="#"><i class="icon-warning-sign"></i> 0<span class=" responsive-text">Notifications</span></a>
                                </li>
                            </ul>
                        </li>
                        <li class="separator"></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle usermenu" data-toggle="dropdown">
                                <img alt="Avatar" src="assets/default2016/images/avatar.png">
                                <span>&nbsp;&nbsp;@Model.LayoutModel.CurrentUser</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="#">Profile</a>
                                </li>
                                <li>
                                    <a href="#">Settings</a>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <a href="auth/logout">Log Out</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <!-- / Main navigation bar -->
    <!-- Left navigation panel
        ================================================== -->
    <nav id="left-panel">
        <div id="left-panel-content">
            <ul>
                <li class="@Model.LayoutModel.AppsActive lp-dropdown">
                    <a href="#" class="lp-dropdown-toggle" id="pages-dropdown"><span class="icon-dashboard"></span>Apps</a>
                    <ul class="lp-dropdown-menu simple" data-dropdown-owner="pages-dropdown">
                        @foreach (var x in @Model.LayoutModel.DashboardStatuses)
                        {
                            if (x.Value.Count > 1)
                            {
                                foreach (var y in x.Value)
                                {
                                <li>
                                    <a tabindex="-1" href="@x.Key@y.Name.Replace(" ", "-")/"><i class="icon-dashboard"></i>&nbsp;&nbsp;@y.Name</a>
                                </li>
                                }
                            }
                            else
                            {
                                foreach (var y in x.Value)
                                {
                                <li>
                                    <a tabindex="-1" href="@x.Key"><i class="icon-dashboard"></i>&nbsp;&nbsp;@y.Name</a>
                                </li>
                                }
                            }
                        }
                    </ul>
                </li>

                @if (@Model.LayoutModel.DashboardSettings.Any())
                {
                <li class="@Model.LayoutModel.ExtensionsActive lp-dropdown">
                    <a href="#" class="lp-dropdown-toggle" id="pages-dropdown2"><span class="icon-cogs"></span>Extensions</a>
                    <ul class="lp-dropdown-menu simple" data-dropdown-owner="pages-dropdown2">
                        @foreach (var x in @Model.LayoutModel.DashboardSettings)
                        {
                            <li>
                                <a tabindex="-1" href="extensions/@x.Key"><i class="icon-cog"></i>&nbsp;&nbsp;@x.Value</a>
                            </li>
                        }
                    </ul>
                </li>
                }
                <li class="@Model.LayoutModel.SettingsActive">
                    <a href="#" class="lp-dropdown-toggle" id="pages-dropdown3"><span class="icon-wrench"></span>Settings</a>
                    <ul class="lp-dropdown-menu simple" data-dropdown-owner="pages-dropdown3">
                        <li>
                            <a tabindex="-1" href="settings/"><i class="icon-wrench"></i>&nbsp;&nbsp;Overview</a>
                        </li>
                        <li>
                            <a tabindex="-1" href="settings/environment/"><i class="icon-info-sign"></i>&nbsp;&nbsp;Environment</a>
                        </li>
                        <li>
                            <a tabindex="-1" href="settings/hosting/"><i class="icon-cloud"></i>&nbsp;&nbsp;Hosting</a>
                        </li>
                        <li>
                            <a tabindex="-1" href="settings/extensions/"><i class="icon-puzzle-piece"></i>&nbsp;&nbsp;Extensions</a>
                        </li>
                        <li>
                            <a tabindex="-1" href="settings/apps/"><i class="icon-dashboard"></i>&nbsp;&nbsp;Apps</a>
                        </li>
                        <li>
                            <a tabindex="-1" href="settings/recipes/"><i class="icon-sort-by-attributes-alt"></i>&nbsp;&nbsp;Recipes</a>
                        </li>
                        <li>
                            <a tabindex="-1" href="settings/security/"><i class="icon-lock"></i>&nbsp;&nbsp;Security</a>
                        </li>
                        <li>
                            <a tabindex="-1" href="settings/performance/"><i class="icon-signal"></i>&nbsp;&nbsp;Performance</a>
                        </li>
                        <li>
                            <a tabindex="-1" href="settings/housekeeping/"><i class="icon-trash"></i>&nbsp;&nbsp;Housekeeping</a>
                        </li>
                    </ul>
                    @*<ul class="lp-dropdown-menu" data-dropdown-owner="extras-dropdown">
                        <li>
                            <a tabindex="-1" href="extras-icons.html"><span class="icon-coffee"></span>Icons</a>
                        </li>
                        <li>
                            <a tabindex="-1" href="extras-charts.html"><span class="icon-bar-chart"></span>Charts</a>
                        </li>
                        <li>
                            <a tabindex="-1" href="extras-widgets.html"><span class="icon-star"></span>Widgets</a>
                        </li>
                    </ul>*@
                </li>
            </ul>
        </div>
        <div class="icon-caret-down"></div>
        <div class="icon-caret-up"></div>
    </nav>

    <script src="assets/mplib/scripts/bootstrap.js" type="text/javascript"></script>
    <script src="assets/default2016/scripts/adminflare.min.js" type="text/javascript"></script>

    <script src="assets/mplib/scripts/websocket.min.js" type="text/javascript"></script>
    <script src="stream/hubs"></script>

    @*<script type="text/javascript">
		$(document).ready(function () {
			$('a[rel=tooltip]').tooltip();

			// Easy Pie Charts
			var easyPieChartDefaults = {
				animate: 2000,
				scaleColor: false,
				lineWidth: 12,
				lineCap: 'square',
				size: 100,
				trackColor: '#e5e5e5'
			}
			$('#easy-pie-chart-1').easyPieChart($.extend({}, easyPieChartDefaults, {
				barColor: '#3da0ea'
			}));
			$('#easy-pie-chart-2').easyPieChart($.extend({}, easyPieChartDefaults, {
				barColor: '#e7912a'
			}));
			$('#easy-pie-chart-3').easyPieChart($.extend({}, easyPieChartDefaults, {
				barColor: '#bacf0b'
			}));
			$('#easy-pie-chart-4').easyPieChart($.extend({}, easyPieChartDefaults, {
				barColor: '#4ec9ce'
			}));
			$('#easy-pie-chart-5').easyPieChart($.extend({}, easyPieChartDefaults, {
				barColor: '#ec7337'
			}));
			$('#easy-pie-chart-6').easyPieChart($.extend({}, easyPieChartDefaults, {
				barColor: '#f377ab'
			}));
			// Visits Chart
			var visitsChartData = [{
				// Visits
				label: 'Visits',
				data: [
					[6, 1300],
					[7, 1600],
					[8, 1900],
					[9, 2100],
					[10, 2500],
					[11, 2200],
					[12, 2000],
					[13, 1950],
					[14, 1900],
					[15, 2000]
				]
			}, {
				// Returning Visits
				label: 'Returning Visits',
				data: [
					[6, 500],
					[7, 600],
					[8, 550],
					[9, 600],
					[10, 800],
					[11, 900],
					[12, 800],
					[13, 850],
					[14, 830],
					[15, 1000]
				],
				filledPoints: true
			}];
			$('#visits-chart').simplePlot(visitsChartData, {
				series: {
					points: {
						show: true,
						radius: 5
					},
					lines: {
						show: true
					}
				},
				xaxis: {
					tickDecimals: 2
				},
				yaxis: {
					tickSize: 1000
				}
			}, {
				height: 205,
				tooltipText: "y + ' visitors at ' + x + '.00h'"
			});
			// Comments Tab
			$('.comment-remove').click(function () {
				bootbox.confirm("Are you sure?", function (result) {
					alert("Confirm result: " + result);
				});
				return false;
			});
			// New Users Tab
			$('#tab-users a').tooltip();
		});
    </script>*@
    @*<script type="text/javascript">
        $(function () {
            $.connection.hub.url = "stream";
            var hub = $.connection.wS;

            $.connection.hub.error(function (error) {
                console.log('Web Socket Error: ' + error);
            });

            $.connection.hub.logging = true;

            $.connection.hub.start().done(function () {
                hub.server.subscribe('@Model.LayoutModel.ViewId');
            });
        });
    </script>*@
    <script src="assets/mplib/scripts/multiplug.js?id=@Model.LayoutModel.ViewId" type="text/javascript"></script>

    <!-- / Left navigation panel -->
    <!-- Page content
        ================================================== -->
    <section class="container">
        @RenderBody()
    </section>
    <script src="assets/mplib/scripts/eventpicker.js" type="text/javascript"></script>
    <script src="assets/default2016/scripts/multiplug.selectize.js"></script>

    <!-- Websocket Reconnect Modal -->
    <div id="websocket-reconnect-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    @*<button id="x-restart-btn" type="button" class="close" data-dismiss="modal">&times;</button>*@
                    <h4 id="websocket-title" class="modal-title">Connection lost.</h4>
                </div>
                <div class="modal-body">
                    <p id="websocket-txt-line1">The connection to the MultiPlug Server has been lost. Attempts are being made to restore the connection.</p>
                    <p id="websocket-txt-line2">Please wait.</p>
                </div>
                <div class="modal-footer">
                    @*<button id="cancel-restart-btn" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button id="restart-btn" class="btn btn-red">Restart</button>*@
                </div>
                @*<form id="restart-form">
                    <input type="hidden" name="Command" value="restart" />
                </form>*@
            </div>

        </div>
    </div>

    @*<script src="Scripts/jquery-1.6.4.min.js"></script>*@



</body>
</html>